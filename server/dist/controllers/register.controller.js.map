{"version":3,"file":"register.controller.js","sourceRoot":"","sources":["../../controllers/register.controller.ts"],"names":[],"mappings":";;;;;;;;;;;;;;AAAA,0DAA8B;AAE9B,qDAAuD;AAEvD,MAAM,YAAY,GAAG,CAAO,GAAY,EAAE,GAAa,EAAE,EAAE;IACvD,MAAM,IAAI,GAAQ;QACd,SAAS,EAAE,GAAG,CAAC,IAAI,CAAC,SAAS;QAC7B,QAAQ,EAAE,GAAG,CAAC,IAAI,CAAC,QAAQ;QAC3B,KAAK,EAAE,GAAG,CAAC,IAAI,CAAC,KAAK;QACrB,MAAM,EAAE,GAAG,CAAC,IAAI,CAAC,MAAM;QACvB,SAAS,EAAE,GAAG,CAAC,IAAI,CAAC,SAAS;QAC7B,QAAQ,EAAE,MAAM;KACnB,CAAC;IAEF,MAAM,YAAY,GAAQ,MAAM,gBAAE,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;IAErD,MAAM,eAAe,GAAQ,MAAM,gBAAE,CAAC,SAAS,CAAC,MAAM,CAAC;QACnD,QAAQ,EAAE,GAAG,CAAC,IAAI,CAAC,SAAS,CAAC,QAAQ;QACrC,MAAM,EAAE,YAAY,CAAC,GAAG,CAAC,IAAI,CAAC;KACjC,CAAC,CAAC;IAEH,MAAM,WAAW,GAAG,MAAM,oBAAW,CAAC,EAAE,MAAM,EAAE,eAAe,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;AACjF,CAAC,CAAA,CAAA","sourcesContent":["import db from \"../db/models\";\nimport { Request, Response } from \"express\";\nimport { CreateToken } from \"../utils/security/tokens\";\n\nconst registerUser = async (req: Request, res: Response) => {\n    const user: any = {\n        firstName: req.body.firstName,\n        lastName: req.body.lastName,\n        email: req.body.email,\n        roleId: req.body.roleId,\n        avatarUrl: req.body.avatarUrl,\n        password: \"temp\"\n    };\n\n    const createResult: any = await db.User.create(user);\n\n    const subscribeResult: any = await db.ClassList.create({\n        courseID: req.body.classList.courseID,\n        userID: createResult.get('id'),\n    });\n\n    const accessToken = await CreateToken({ userid: subscribeResult.get('id') });\n}"]}