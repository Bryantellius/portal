{"version":3,"file":"server.js","sourceRoot":"","sources":["../server.ts"],"names":[],"mappings":";;;;;AAAA,sDAA8B;AAC9B,oDAA4B;AAC5B,gDAAwB;AACxB,sDAA8B;AAC9B,sDAA8B;AAC9B,wDAAgC;AAChC,uCAAqC;AACrC,sCAAoC;AAEpC,MAAM,GAAG,GAAG,iBAAO,EAAE,CAAC;AAEtB,GAAG,CAAC,GAAG,CAAC,iBAAO,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,CAAC;AAClC,GAAG,CAAC,GAAG,CAAC,kBAAQ,CAAC,UAAU,EAAE,CAAC,CAAC;AAC/B,GAAG,CAAC,GAAG,CAAC,iBAAO,CAAC,IAAI,EAAE,CAAC,CAAC;AACxB,GAAG,CAAC,GAAG,CAAC,gBAAM,CAAC,KAAK,CAAC,CAAC,CAAC;AAEvB,GAAG,CAAC,GAAG,CAAC,gBAAM,CAAC,CAAC;AAEhB,GAAG,CAAC,GAAG,CACL,GAAG,EACH,CAAC,GAAoB,EAAE,GAAqB,EAAE,IAA0B,EAAE,EAAE;IAC1E,IAAI;QACF,GAAG,CAAC,QAAQ,CAAC,cAAI,CAAC,IAAI,CAAC,SAAS,EAAE,sBAAsB,CAAC,CAAC,CAAC;KAC5D;IAAC,OAAO,KAAK,EAAE;QACd,IAAI,CAAC,KAAK,CAAC,CAAC;KACb;AACH,CAAC,CACF,CAAC;AAEF,GAAG,CAAC,GAAG,CACL,CACE,GAAU,EACV,GAAoB,EACpB,GAAqB,EACrB,IAA0B,EAC1B,EAAE;IACF,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;IACjB,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,EAAE,IAAI,EAAE,GAAG,CAAC,IAAI,EAAE,GAAG,EAAE,GAAG,CAAC,OAAO,EAAE,CAAC,CAAC;AAC7D,CAAC,CACF,CAAC;AAEF,GAAG,CAAC,MAAM,CAAC,gBAAM,CAAC,IAAI,EAAE,GAAG,EAAE,CAC3B,OAAO,CAAC,GAAG,CAAC,2BAA2B,GAAG,gBAAM,CAAC,IAAI,CAAC,CACvD,CAAC","sourcesContent":["import express from 'express';\nimport morgan from 'morgan';\nimport path from 'path';\nimport router from './routes';\nimport config from './config';\nimport passport from 'passport';\nimport './middleware/bearerstrategy';\nimport './middleware/localstrategy';\n\nconst app = express();\n\napp.use(express.static('public'));\napp.use(passport.initialize());\napp.use(express.json());\napp.use(morgan('dev'));\n\napp.use(router);\n\napp.use(\n  '*',\n  (req: express.Request, res: express.Response, next: express.NextFunction) => {\n    try {\n      res.sendFile(path.join(__dirname, '../public/index.html'));\n    } catch (error) {\n      next(error);\n    }\n  }\n);\n\napp.use(\n  (\n    err: Error,\n    req: express.Request,\n    res: express.Response,\n    next: express.NextFunction\n  ) => {\n    console.log(err);\n    res.status(500).json({ name: err.name, msg: err.message });\n  }\n);\n\napp.listen(config.port, () =>\n  console.log('Server listening on port ' + config.port)\n);\n"]}