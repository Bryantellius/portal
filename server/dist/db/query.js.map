{"version":3,"file":"query.js","sourceRoot":"","sources":["../../db/query.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,6CAA+B;AAC/B,uDAA+B;AAE/B,MAAM,UAAU,GAAG,KAAK,CAAC,UAAU,CAAC,gBAAM,CAAC,KAAK,CAAC,CAAC;AAElD,MAAM,KAAK,GAAG,CAAO,KAAa,EAAE,MAAmB,EAAE,EAAE;IACzD,MAAM,YAAY,GAAG,IAAI,OAAO,CAAC,CAAC,OAAO,EAAE,MAAM,EAAE,EAAE;QACnD,UAAU,CAAC,KAAK,CAAC,KAAK,EAAE,MAAM,EAAE,CAAC,GAAU,EAAE,OAAa,EAAE,EAAE;YAC5D,IAAI,GAAG,EAAE;gBACP,MAAM,CAAC,GAAG,CAAC,CAAC;aACb;YACD,OAAO,CAAC,OAAO,CAAC,CAAC;QACnB,CAAC,CAAC,CAAC;IACL,CAAC,CAAC,CAAC;IAEH,MAAM,OAAO,GAAG,MAAM,YAAY,CAAC;IACnC,OAAO,EAAE,CAAC,KAAK,CAAC,IAAI,CAAC,OAAO,EAAE,CAAC,CAAC,CAAA;AAClC,CAAC,CAAA,CAAC;AAEF,MAAM,WAAW,GAAG,CAAO,KAAa,EAAE,MAAmB,EAAE,EAAE;IAC/D,IAAI,OAAO,GAAG,EAAE,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,KAAK,CAAC,KAAK,EAAE,MAAM,CAAC,EAAE,CAAC,CAAC,CAAC;IAE3D,OAAO,OAAO,CAAC,MAAM,GAAG,CAAC;QACvB,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC;QACZ,CAAC,CAAC,EAAE,CAAC;AACT,CAAC,CAAA,CAAA;AAGC,kCAAW;AAGb,kBAAe,KAAK,CAAC","sourcesContent":["import * as mysql from \"mysql\";\nimport config from \"../config\";\n\nconst connection = mysql.createPool(config.mysql);\n\nconst Query = async (query: string, values?: Array<any>) => {\n  const queryPromise = new Promise((resolve, reject) => {\n    connection.query(query, values, (err: Error, results: JSON) => {\n      if (err) {\n        reject(err);\n      }\n      resolve(results);\n    });\n  });\n\n  const results = await queryPromise;\n  return [].slice.call(results, 0)\n};\n\nconst QuerySingle = async (query: string, values?: Array<any>) => {\n  let results = [].slice.call(await Query(query, values), 0);\n  \n  return results.length > 0\n    ? results[0]\n    : [];\n}\n\nexport {\n  QuerySingle\n};\n\nexport default Query;"]}